{"version":3,"sources":["assets/images/send.png","assets/images/plus.png","assets/images/gift.png","assets/images/edit.png","assets/images/delete.png","components/Input/Input.tsx","constants/enums.ts","constants/index.ts","services/PersonService.ts","utils/treatApiError.ts","components/Card/Card.ts","styles/colors.ts","components/Button/Button.tsx","components/IconButton/IconButton.ts","app/style.ts","app/App.tsx","utils/isPair.ts","index.tsx"],"names":["module","exports","ErrorCodes","InputComponent","styled","input","Input","state","props","setInput","value","onChange","ev","target","API_SERVER","PersonService","axios","get","res","data","name","email","post","personId","put","delete","treatApiError","err","callbacks","response","apiError","clientError","Colors","Card","div","ButtonComponent","button","PRIMARY","LIGHT","lighten","darken","ButtonImage","img","size","Button","withImage","imageSize","children","styleImage","style","src","IconButton","attrs","Container","Background","linearGradient","colorStops","toDirection","BackgroundSquare","transparentize","Logo","Gift","LogoText","span","MainCard","Title","h1","Header","HeaderButton","HeaderAddButton","close","transform","transition","PeopleCount","InputContainer","GRAY_1","Line","strip","LineText","LineEdit","Edit","LineDelete","Delete","AddEditButton","Row","Col","ColDivider","Label","label","App","useState","people","setPeople","creatingEditing","setCreatingEditing","action","setAction","editingId","setEditingId","loading","setLoading","nameInput","setNameInput","emailInput","setEmailInput","useEffect","list","then","catch","alert","addPerson","a","savePerson","inserted","_clearInputs","editPerson","map","person","_id","_resetCreateEditState","method","trim","error","INVALID_EMAIL","ALREADY_EXISTS","deletePerson","id","filter","sendToAll","INVALID_USERS_LENGTH","undefined","left","top","width","height","right","Send","onClick","Plus","flex","htmlFor","disabled","length","index","num","editingPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a4bef0cd.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADfSURBVHgBrZRhEYQgEEaJYAQiGMEIF4EG2kAj0OCugdfACEYgghG+YwecQ2aVvZM3sz9k1weyoFIVAKB9vHw4dQcvaHyM+LKqf0hEG44stUQ79q5ozp4HiaxnRPT8oCZk492VyDAvII51J7mWE1HxAp4lfj6b/0VE2Fg3nuRXqYiYCjLivQu3iyLKmWTiK2x6JAyzSoe4yQhXyxWEhmuIjnI6XzqZsCQjOiXBFw6Q0Uhkbbby9US2KQkI++p8PDN5n8llPwUcG6WZPMktJHc4E06qBgjdnlUtEI5MuXsJH25CB9VCLxOPAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAOCAYAAADwikbvAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABwSURBVHgB3ZPRCYAwDEQTcYCO0A10hG5iR3IER3KEjuAG8QoKNUQo9kPogyPkaKBJCJOBiDiEubB2Zj6oBhRHeRKsdwM18F/xiH48YlT+pPLF6HvNwwnyDd/2bSjvLynfXbpJVEvve37xE7QVuXkUJ52VcXbb1mYMAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD8AAAA+CAYAAACcA8N6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAI5SURBVHgB7ZuBbdswEEU/O4G7gUZoJ6i8QTaoO0GzgZwJ4g2cTtBkAnuDZANrAzsTXO5AGgloSiItOUB894CDLPPE4yepIyFIQAFENGP7y7Zh25NnH85/48JwjJuu2GwVLgVXXrPtqB8p/4GJEWFszxmxpx+A0LMlTNYI6Ux6H+kcGkxF6PVzGN0IKu/0IzWmgPw9FbMifxtIDpCReaCJO4B8bkmxiWKvEj47jCVUHnPb4bukjA4gP5MatjXb/9D4KvJpOupadsReJHxrjBR/G1W4GfBfdDR6HcrvqRspm/X4LAdibyL/FUaKX5U0IFwjUzKVoHKSVpfPIiNu3PHroWu+DZTPUIhzbsuHn2ztGXXFPge2Odf5gAswJP4lOv+FDLixLR/mOO2AElp44dtM/zo6f8UYwhSOyV7DySe3HZWzo4IdG6UTc42xUHqpa3IbRz6JlZK1Swx1N3SaK7KWOhcqqfggS9INzrjPvwiSPx7Z7sJtCReEyxJWQQfHJPoiCW8JPcIFmdn38kNGfo/rnep9fJeR1yhcmA2t81eNideKideKiD9AJwcRfwd9yBb38HFvX0EH7XFvbxgKcfEfNPCEdlQw5+Z95eQfOlb4pNgp8YQLwQ1wfeXhCUyFT4ptOzytmHitmHitmHitmHitmHitmHitmHitmHitmHitmHitmHitmHitmHitpMS3UEJK/BOuj23qz5R4+SqpxfUgb5v9SRWciP/wfcw/fO3X1KTtW/h369uUwxuvVmb3X9DnxQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAD+SURBVHgBtdE7CsJAEAbgmURBCGJSCIoWOUIae72BdraeTI+hVWoRH0dYOyFN7AKi625MzFPz2M0PgWUCH7v/IAjG1C2TtlWbn/HxnBH3QvwzCCRC0fxMKAnx2jBDdYaeIzTMB1ehZlzv5hna8M7gefIP6qAq08owf36vO7YNbbQnznFraINrFqeeAhUSW5RFgdpmf2IR57RBeK1iKEG1QhXZRUGHfUt28110c7A4Sm4ll5eDxuMi4Iw4h0t8WFhFAcqjs1rW6WELxFAIOl2kpygB9TstBYuiubAMNAPLQhOwTPQLy0Z9uAmUR2kC9eEm0ACWj/6BxdAfsDjK8wZxx7WeqQPxBQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAWCAYAAADEtGw7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADcSURBVHgB7ZQxDoIwFIbfK5gYJxw0TgY3RxI9AEfwBuoxnMSTiDdwdNRdDd6AMBkcrBuJQK1DSUmEKEan/knT9/dvv7bLQyiR2R7OGQPnVcYQnCDcL4rOoii6rcEYASdSZvBhQbm2ucuAucHlsHrWuvSEHr/Ghs9k5xzDnSgzMCHMg4S48IVQS72slgPTsPj36wZUUkR96lHhdDlKamREIF5CBaUpmfLJFZ7Aj6TACqzACvxXsKaTayFYu6drqCqMTzmWbGh0jpqNzo23/z7f+WbDZxQZzvzwuJFXH6mrNhmRTn/YAAAAAElFTkSuQmCC\"","import React, {\r\n  ComponentPropsWithoutRef,\r\n  Dispatch,\r\n  SetStateAction,\r\n} from \"react\";\r\nimport styled from \"styled-components\";\r\n\r\nconst InputComponent = styled.input`\r\n  outline: none;\r\n  border: none;\r\n  background-color: white;\r\n\r\n  padding: 0.8rem;\r\n  border-radius: 5px;\r\n  margin: 0.7rem 0;\r\n`;\r\n\r\ninterface InputProps extends ComponentPropsWithoutRef<\"input\"> {\r\n  state: [string, Dispatch<SetStateAction<string>>];\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({ state, ...props }) => {\r\n  const input = state[0];\r\n  const setInput = state[1];\r\n\r\n  const onInputChange = (ev: React.ChangeEvent<HTMLInputElement>) => {\r\n    setInput(ev.target.value);\r\n  };\r\n\r\n  return (\r\n    <InputComponent\r\n      {...props}\r\n      value={input}\r\n      onChange={onInputChange}\r\n    ></InputComponent>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n","/**\r\n * List of custom error codes\r\n * from API server\r\n *\r\n * Found in field: `error` of a response\r\n *\r\n * example:\r\n * ```json\r\n * {\r\n *  \"field\": \"name\",\r\n *  \"error\": \"missing_field\",\r\n *  \"code\": 422\r\n * }\r\n * ```\r\n */\r\nexport enum ErrorCodes {\r\n  MISSING_FIELD = \"missing_field\",\r\n  SHOULD_BE_STRING = \"should_be_string\",\r\n  INVALID_EMAIL = \"invalid_email\",\r\n  NOT_FOUND = \"not_found\",\r\n  ALREADY_EXISTS = \"already_exists\",\r\n  INTERNAL_ERROR = \"internal_error\",\r\n  INVALID_USERS_LENGTH = \"invalid_users_length\",\r\n}\r\n","/**\r\n * Address of API server to send the HTTP requests\r\n */\r\nexport const API_SERVER = \"http://localhost:8080\";\r\n","import axios from \"axios\";\r\nimport { API_SERVER } from \"../constants\";\r\n\r\n/**\r\n * @class\r\n * Manipulates the actions with Person entity\r\n */\r\nexport default class PersonService {\r\n  /**\r\n   * Get a list of all registered people\r\n   */\r\n  static async list() {\r\n    const res = await axios.get<Person[]>(`${API_SERVER}/v1/people/`);\r\n    return res.data;\r\n  }\r\n\r\n  /**\r\n   * Register a new person to database\r\n   *\r\n   * @param name Name of users\r\n   * @param email Email of user\r\n   *\r\n   * @returns The inserted person\r\n   */\r\n  static async create(name: string, email: string): Promise<Person>;\r\n  static async create(...args: string[]): Promise<Person>;\r\n  static async create(name: string, email: string) {\r\n    const res = await axios.post<Person>(`${API_SERVER}/v1/people/`, {\r\n      name,\r\n      email,\r\n    });\r\n    return res.data;\r\n  }\r\n\r\n  /**\r\n   * Updates a certain person\r\n   *\r\n   * @param personId The person ID to edit\r\n   * @param name New name of person\r\n   * @param email New email of person\r\n   */\r\n  static async update(\r\n    personId: string,\r\n    name: string,\r\n    email: string\r\n  ): Promise<void>;\r\n  static async update(...args: string[]): Promise<void>;\r\n  static async update(personId: string, name: string, email: string) {\r\n    await axios.put<Person>(`${API_SERVER}/v1/people/${personId}`, {\r\n      name,\r\n      email,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Deletes a certain person from database\r\n   *\r\n   * @param personId The person ID to edit\r\n   */\r\n  static async delete(personId: string) {\r\n    await axios.delete(`${API_SERVER}/v1/people/${personId}`);\r\n  }\r\n\r\n  /**\r\n   * Send a email with his secret friend to all registered people, also delete\r\n   * the registered people in database after successfully sent all emails\r\n   */\r\n  static async sendToAll() {\r\n    await axios.post(`${API_SERVER}/v1/people/send-to-all`);\r\n  }\r\n}\r\n","/**\r\n * Check if the given is a error received by server\r\n * or a client error\r\n *\r\n * - If it's error from **api request**, the `callbacks.apiError` will be called\r\n * with the **response body**\r\n *\r\n * - If it's a **client error**, then call `callbacks.clientError` with the error object\r\n *\r\n * @param err Error Object\r\n * @param callbacks Object with callbacks\r\n */\r\nexport default function treatApiError(\r\n  err: any,\r\n  callbacks: {\r\n    apiError?: (body: ApiErrorBody) => void;\r\n    clientError?: (err: any) => void;\r\n  }\r\n) {\r\n  if (err.response) {\r\n    callbacks.apiError && callbacks.apiError(err.response.data);\r\n  } else {\r\n    callbacks.clientError && callbacks.clientError(err);\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nconst Card = styled.div`\r\n  background-color: white;\r\n\r\n  -webkit-box-shadow: 0px 3px 40px -1px rgba(107, 107, 107, 0.38);\r\n  -moz-box-shadow: 0px 3px 40px -1px rgba(107, 107, 107, 0.38);\r\n  box-shadow: 0px 3px 40px -1px rgba(107, 107, 107, 0.38);\r\n\r\n  padding: 1rem;\r\n  border-radius: 5px;\r\n`;\r\n\r\nexport default Card;\r\n","enum Colors {\r\n  PRIMARY = \"#8B59F5\",\r\n  DARK = \"#1F1534\",\r\n  LIGHT = \"#fff\",\r\n  GRAY_1 = \"#F1F1F1\",\r\n}\r\n\r\nexport default Colors;\r\n","import React, { ComponentPropsWithoutRef } from \"react\";\r\nimport { darken, lighten } from \"polished\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Colors from \"../../styles/colors\";\r\n\r\nconst ButtonComponent = styled.button`\r\n  background-color: ${Colors.PRIMARY};\r\n  color: ${Colors.LIGHT};\r\n  border: none;\r\n  outline: none;\r\n  cursor: pointer;\r\n\r\n  width: min-content;\r\n  height: min-content;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  padding: 1rem;\r\n  border-radius: 5px;\r\n\r\n  &:hover {\r\n    background-color: ${lighten(0.06, Colors.PRIMARY)};\r\n  }\r\n\r\n  &:active {\r\n    background-color: ${lighten(0.2, Colors.PRIMARY)};\r\n  }\r\n\r\n  &disabled {\r\n    background-color: ${darken(0.1, Colors.PRIMARY)};\r\n  }\r\n`;\r\n\r\nconst ButtonImage = styled.img<{ size: string }>`\r\n  object-fit: contain;\r\n  width: ${({ size }) => size};\r\n  height: ${({ size }) => size};\r\n\r\n  user-drag: none;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -webkit-user-drag: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n`;\r\n\r\nconst DEFAULT_IMAGE_SIZE = \"20px\";\r\n\r\ninterface ButtonProps extends ComponentPropsWithoutRef<\"button\"> {\r\n  withImage?: string;\r\n  imageSize?: string;\r\n  styleImage?: Object;\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({\r\n  withImage,\r\n  imageSize,\r\n  children,\r\n  styleImage,\r\n  ...props\r\n}) => {\r\n  return (\r\n    <ButtonComponent {...props}>\r\n      {withImage && (\r\n        <ButtonImage\r\n          style={styleImage}\r\n          src={withImage}\r\n          size={imageSize || DEFAULT_IMAGE_SIZE}\r\n        />\r\n      )}\r\n      {children}\r\n    </ButtonComponent>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","import styled from \"styled-components\";\r\nimport Button from \"../Button\";\r\n\r\nconst IconButton = styled(Button).attrs({ imageSize: \"15px\" })`\r\n  background-color: transparent;\r\n  width: 36px;\r\n  height: 36px;\r\n  border-radius: 20px;\r\n\r\n  &:hover {\r\n    background-color: rgba(0, 0, 0, 0.1);\r\n  }\r\n\r\n  &:active {\r\n    background-color: rgba(0, 0, 0, 0.3);\r\n  }\r\n`;\r\n\r\nexport default IconButton;\r\n","import { lighten, linearGradient, transparentize } from \"polished\";\r\nimport styled from \"styled-components\";\r\n\r\nimport Card from \"../components/Card\";\r\nimport Button from \"../components/Button\";\r\nimport IconButton from \"../components/IconButton\";\r\n\r\nimport Colors from \"../styles/colors\";\r\n\r\nimport Gift from \"../assets/images/gift.png\";\r\nimport Edit from \"../assets/images/edit.png\";\r\nimport Delete from \"../assets/images/delete.png\";\r\n\r\nexport const Container = styled.div``;\r\n\r\nexport const Background = styled.div`\r\n  width: 100%;\r\n  height: 200px;\r\n  padding: 1rem;\r\n\r\n  background-color: ${linearGradient({\r\n    colorStops: [Colors.PRIMARY, lighten(0.05, Colors.PRIMARY)],\r\n    toDirection: \"to right\",\r\n  })};\r\n\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const BackgroundSquare = styled.div`\r\n  border-radius: 15px;\r\n  background-color: ${transparentize(0.7, Colors.LIGHT)};\r\n  position: absolute;\r\n  transform: rotate(45deg);\r\n`;\r\n\r\nexport const Logo = styled.img.attrs({ src: Gift })`\r\n  object-fit: contain;\r\n  width: 35px;\r\n  height: 35px;\r\n\r\n  user-drag: none;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -webkit-user-drag: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n`;\r\n\r\nexport const LogoText = styled.span`\r\n  margin-left: 1rem;\r\n  color: ${Colors.LIGHT};\r\n\r\n  user-drag: none;\r\n  user-select: none;\r\n  -moz-user-select: none;\r\n  -webkit-user-drag: none;\r\n  -webkit-user-select: none;\r\n  -ms-user-select: none;\r\n`;\r\n\r\nexport const MainCard = styled(Card)`\r\n  align-self: center;\r\n  z-index: 1;\r\n\r\n  margin-top: -4rem;\r\n  margin-bottom: 2rem;\r\n\r\n  width: 90%;\r\n  max-width: 600px;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n  font-size: 1.3rem;\r\n  font-weight: 600;\r\n\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const Header = styled.div`\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const HeaderButton = styled(Button)`\r\n  width: 40px;\r\n  height: 40px;\r\n\r\n  margin: 0 0.3rem;\r\n`;\r\n\r\nexport const HeaderAddButton = styled(HeaderButton).attrs(\r\n  ({ close }: { close?: boolean }) => ({\r\n    styleImage: {\r\n      transform: `rotate(${close ? \"45deg\" : 0})`,\r\n      transition: \"transform 0.3s\",\r\n    },\r\n  })\r\n)<{ close?: boolean }>``;\r\n\r\nexport const PeopleCount = styled.span`\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n  background-color: ${Colors.GRAY_1};\r\n\r\n  border-radius: 5px;\r\n\r\n  padding: 0.7rem;\r\n  margin-top: 0.7rem;\r\n  margin-bottom: 1.3rem;\r\n`;\r\n\r\nexport const Line = styled.div<{ strip?: boolean }>`\r\n  background-color: ${({ strip }) => (strip ? Colors.GRAY_1 : \"transparent\")};\r\n\r\n  padding: 0.5rem;\r\n\r\n  flex-direction: row;\r\n  align-items: center;\r\n`;\r\n\r\nexport const LineText = styled.span`\r\n  margin-right: auto;\r\n`;\r\n\r\nexport const LineEdit = styled(IconButton).attrs({ withImage: Edit })``;\r\n\r\nexport const LineDelete = styled(IconButton).attrs({ withImage: Delete })``;\r\n\r\nexport const AddEditButton = styled(Button)`\r\n  margin-top: 0.2rem;\r\n  margin-left: auto;\r\n  padding: 0.7rem 2.5rem;\r\n`;\r\n\r\nexport const Row = styled.div`\r\n  flex-direction: row;\r\n`;\r\n\r\nexport const Col = styled.div``;\r\n\r\nexport const ColDivider = styled.div`\r\n  width: 10px;\r\n`;\r\n\r\nexport const Label = styled.label``;\r\n","import React, { useEffect, useState } from \"react\";\n\nimport Input from \"../components/Input\";\n\nimport Send from \"../assets/images/send.png\";\nimport Plus from \"../assets/images/plus.png\";\n\nimport PersonService from \"../services/PersonService\";\nimport { ErrorCodes } from \"../constants/enums\";\n\nimport isPair from \"../utils/isPair\";\nimport treatApiError from \"../utils/treatApiError\";\nimport {\n  Container,\n  Background,\n  Logo,\n  LogoText,\n  BackgroundSquare,\n  MainCard,\n  Header,\n  Title,\n  HeaderButton,\n  HeaderAddButton,\n  InputContainer,\n  Row,\n  Col,\n  Label,\n  ColDivider,\n  AddEditButton,\n  PeopleCount,\n  Line,\n  LineText,\n  LineEdit,\n  LineDelete,\n} from \"./style\";\n\nfunction App() {\n  /**\n   * People List State\n   */\n  const [people, setPeople] = useState<Person[]>([]);\n\n  /**\n   * States for Manipulating the View\n   * for Edit and Create People\n   */\n  const [creatingEditing, setCreatingEditing] = useState(false);\n  const [action, setAction] = useState<\"create\" | \"edit\" | undefined>();\n  const [editingId, setEditingId] = useState<string | undefined>();\n  const [loading, setLoading] = useState(false);\n\n  /**\n   * Inputs from Edit/Create View\n   */\n  const [nameInput, setNameInput] = useState(\"\");\n  const [emailInput, setEmailInput] = useState(\"\");\n\n  useEffect(() => {\n    PersonService.list()\n      .then((people: Person[]) => setPeople(people))\n      .catch(() => {\n        alert(\"Erro ao pegar lista de pessoas\");\n      });\n  }, []);\n\n  /**\n   * Toggle the current create / edit view\n   *\n   * If it's not open, then open it as create view\n   *\n   * If it's already open, then close it\n   *\n   * *If it was open in edit mode, then clear the inputs*\n   */\n  const toggleCreateView = () => {\n    if (action === undefined) {\n      setAction(\"create\");\n      setCreatingEditing(true);\n    } else {\n      if (action === \"edit\") {\n        _clearInputs();\n      }\n\n      _resetCreateEditState();\n    }\n  };\n\n  /**\n   * Start editing a person (set editingId and set inputs)\n   *\n   * @param editingPerson the person entity who is going to be edited\n   */\n  const openEditView = (editingPerson: Person) => {\n    setAction(\"edit\");\n    setEditingId(editingPerson._id);\n\n    setNameInput(editingPerson.name);\n    setEmailInput(editingPerson.email);\n\n    setCreatingEditing(true);\n  };\n\n  /**\n   * Add a person to database\n   *\n   * Uses the `nameInput` and `emailInput`, and call savePerson\n   */\n  const addPerson = async () => {\n    setLoading(true);\n\n    const inserted = await savePerson(\"create\", {\n      name: nameInput,\n      email: emailInput,\n    });\n\n    if (inserted) {\n      setPeople((people) => [...people, inserted]);\n      _clearInputs();\n    }\n\n    setLoading(false);\n  };\n\n  /**\n   * Edit certain person data\n   *\n   * It gets the `editingId` state to determine who is being\n   * edited\n   */\n  const editPerson = async () => {\n    setLoading(true);\n\n    const res = await savePerson(\"update\", {\n      name: nameInput,\n      email: emailInput,\n      personId: editingId,\n    });\n\n    if (res !== false) {\n      setPeople((people) =>\n        people.map((person) => {\n          if (person._id === editingId) {\n            return { ...person, name: nameInput, email: emailInput };\n          } else {\n            return person;\n          }\n        })\n      );\n\n      _clearInputs();\n      _resetCreateEditState();\n    }\n\n    setLoading(false);\n  };\n\n  /**\n   * Save certain person data (create or edit)\n   *\n   * @param method - If it's creating or editing\n   * @param input - `name`, `edit` and if is editing the `id` of\n   * the person being edited\n   */\n  const savePerson = async (\n    method: \"create\" | \"update\",\n    input: {\n      name: string;\n      email: string;\n      personId?: string;\n    }\n  ) => {\n    if (!input.name.trim() || !input.email.trim()) return;\n\n    try {\n      return await PersonService[method](\n        ...[\n          ...(input.personId ? [input.personId] : []),\n          input.name,\n          input.email,\n        ]\n      );\n    } catch (err) {\n      treatApiError(err, {\n        apiError: ({ error }) => {\n          switch (error) {\n            case ErrorCodes.INVALID_EMAIL:\n              alert(\"Email inválido\");\n              break;\n            case ErrorCodes.ALREADY_EXISTS:\n              alert(\"Esse email já foi cadastrado\");\n              break;\n            default:\n              alert(\"Erro no servidor ao criar\");\n          }\n        },\n        clientError: () => {\n          alert(\"Erro ao criar\");\n        },\n      });\n\n      return false;\n    }\n  };\n\n  /**\n   * Delete a certain person from database\n   *\n   * @param id Person database ID\n   */\n  const deletePerson = async (id: string) => {\n    try {\n      await PersonService.delete(id);\n      setPeople((people) => people.filter((person) => person._id !== id));\n\n      if (action === \"edit\" && editingId === id) {\n        _clearInputs();\n        _resetCreateEditState();\n      }\n    } catch (err) {\n      alert(\"Erro ao deletar\");\n    }\n  };\n\n  /**\n   * Send a email to all registered people\n   * with him secret friend\n   */\n  const sendToAll = async () => {\n    try {\n      await PersonService.sendToAll();\n\n      setPeople([]);\n      _clearInputs();\n      _resetCreateEditState();\n    } catch (err) {\n      treatApiError(err, {\n        apiError: ({ error }) => {\n          if (error === ErrorCodes.INVALID_USERS_LENGTH) {\n            alert(\"A quantidade de usuários deve ser maior que 2 e par\");\n          } else {\n            alert(\"Erro interno\");\n          }\n        },\n        clientError: () => {\n          alert(\"Erro ao enviar emails\");\n        },\n      });\n    }\n  };\n\n  /**\n   * Clear all create / edit inputs\n   */\n  const _clearInputs = () => {\n    setNameInput(\"\");\n    setEmailInput(\"\");\n  };\n\n  /**\n   * Reset all states that handle the create / edit view\n   */\n  const _resetCreateEditState = () => {\n    setAction(undefined);\n    setCreatingEditing(false);\n    setEditingId(undefined);\n  };\n\n  return (\n    <Container>\n      <Background>\n        <Logo />\n        <LogoText>\n          Amigo\n          <br />\n          Secreto\n        </LogoText>\n\n        <BackgroundSquare\n          style={{ left: \"1%\", top: 70, width: 40, height: 40 }}\n        />\n        <BackgroundSquare\n          style={{ left: \"20%\", top: 50, width: 80, height: 80 }}\n        />\n        <BackgroundSquare\n          style={{ right: \"10%\", top: -10, width: 130, height: 130 }}\n        />\n        <BackgroundSquare\n          style={{ right: \"30%\", top: 10, width: 90, height: 90 }}\n        />\n      </Background>\n      <MainCard>\n        <Header>\n          <Title>Amigo Secreto</Title>\n          <HeaderButton withImage={Send} imageSize=\"15px\" onClick={sendToAll} />\n          <HeaderAddButton\n            withImage={Plus}\n            imageSize=\"12px\"\n            onClick={toggleCreateView}\n            close={creatingEditing}\n          />\n        </Header>\n        {creatingEditing && (\n          <InputContainer>\n            <Row>\n              <Col style={{ flex: 1 }}>\n                <Label htmlFor=\"name\">Nome</Label>\n                <Input state={[nameInput, setNameInput]} id=\"name\" />\n              </Col>\n              <ColDivider />\n              <Col style={{ flex: 1 }}>\n                <Label htmlFor=\"email\">Email</Label>\n                <Input state={[emailInput, setEmailInput]} id=\"email\" />\n              </Col>\n            </Row>\n            <AddEditButton\n              disabled={loading}\n              onClick={action === \"edit\" ? () => editPerson() : addPerson}\n            >\n              {action === \"edit\"\n                ? loading\n                  ? \"Editando...\"\n                  : \"Editar\"\n                : loading\n                ? \"Adicionando...\"\n                : \"Adicionar\"}\n            </AddEditButton>\n          </InputContainer>\n        )}\n\n        <PeopleCount>{people.length} Pessoas</PeopleCount>\n        {people.map((person, index) => (\n          <Line strip={isPair(index)}>\n            <LineText>{person.name}</LineText>\n            <LineEdit onClick={() => openEditView(person)} />\n            <LineDelete onClick={() => deletePerson(person._id)} />\n          </Line>\n        ))}\n      </MainCard>\n    </Container>\n  );\n}\n\nexport default App;\n","/**\r\n * Check if certain number is pair\r\n *\r\n * *It's more for readability*\r\n *\r\n * @param num Number to check\r\n */\r\nexport default function isPair(num: number) {\r\n  return num % 2 === 0;\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./global.css\";\n\nimport App from \"./app\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}